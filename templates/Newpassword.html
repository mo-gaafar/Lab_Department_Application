<!DOCTYPE html>
<!-- Created By CodingNepal - www.codingnepalweb.com -->
<html lang="en" >
   <head>
      <link rel="icon" type="image/x-icon" href="/static/images/icon.jpg">
      <meta charset="utf-8">
      <title>Reset Password</title>
            <!---------------------------------------- Include the css file ---------------------------------------->

      <link rel="stylesheet" href="/static/css/style.css">

      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>

      <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> -->
   </head>
   <body>
        
           <div class="container">
              <div class="content">
                <header>Reset password</header>
                <img src="/static/images/openlock.jpeg"  alt="----" width="300" height="130"/>
                <div class="d-flex justify-content-center m-3">
                <p class="card-text">Your identity has been verified  </p>
                <p class="card-text"> Set your new password </p>
      
              </div>
      
                 <form action="http://127.0.0.1:5000/Newpassword" method="POST">
                  <div class="error-text"></div>
                  <div class="field">
                     <input name="newPass" onkeyup="active()" id="pswrd_1" type="password" placeholder="Enter Password">
                  </div>
                  <div class="field">
                     <input name="newPass2" onkeyup="active_2()" id="pswrd_2" disabled type="password" placeholder="Confirm Password">
                     <div class="show">
                        SHOW
                     </div>
                  </div>
           
                  <button  type="submit" class="btn btn-success" >Reset</button>           
                  
               </form>
                  
                   

            </div>

    

         {%if message%}
      <div class="alert alert-success" role="alert">
        {{message}}
      </div>
    {%endif%}

    {%if error%}
      <div class="alert alert-danger" role="alert">
        {{error}}
      </div>
    {%endif%}  

      <script>
         const pswrd_1 = document.querySelector("#pswrd_1");
         const pswrd_2 = document.querySelector("#pswrd_2");
         const errorText = document.querySelector(".error-text");
         const showBtn = document.querySelector(".show");
         const btn = document.querySelector("button");
         const BTN = document.querySelector("Button2")
         function active(){
           if(pswrd_1.value.length >= 4){
             btn.removeAttribute("disabled", "");
             btn.classList.add("active");
             pswrd_2.removeAttribute("disabled", "");


           }else{
             btn.setAttribute("disabled", "");


             btn.classList.remove("active");
             pswrd_2.setAttribute("disabled", "");
           }
         }
        //  btn.onclick = function(){
        //    if(pswrd_1.value != pswrd_2.value){
        //      errorText.style.display = "block";
        //      errorText.classList.remove("matched");
        //      errorText.textContent = "Error! Confirm Password Not Match";
        //      return false;
        //    }else{
        //      errorText.style.display = "block";
        //      errorText.classList.add("matched");
        //      errorText.textContent = "Nice! Confirm Password Matched";
        //      return false;
        //    }
        //  }
         function active_2(){
           if(pswrd_2.value != ""){
             showBtn.style.display = "block";
             showBtn.onclick = function(){
               if((pswrd_1.type == "password") && (pswrd_2.type == "password")){
                 pswrd_1.type = "text";
                 pswrd_2.type = "text";
                 this.textContent = "Hide";
                 this.classList.add("active");
                 BTN.removeAttribute("disabled", "");

               }else{
                 pswrd_1.type = "password";
                 pswrd_2.type = "password";
                 this.textContent = "Show";
                 this.classList.remove("active");
               }
             }
           }else{
             showBtn.style.display = "none";
           }
         }
      

      </script>
</body>
</html>